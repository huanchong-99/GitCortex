"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
function serialize(value) {
  if (value === null || value === void 0) {
    return ``;
  }
  if (typeof value === `string`) {
    return value;
  }
  if (typeof value === `number`) {
    return value.toString();
  }
  if (typeof value === `boolean`) {
    return value ? `true` : `false`;
  }
  if (value instanceof Date) {
    return value.toISOString();
  }
  if (Array.isArray(value)) {
    const elements = value.map((item) => {
      if (item === null || item === void 0) {
        return `NULL`;
      }
      if (typeof item === `string`) {
        const escaped = item.replace(/\\/g, `\\\\`).replace(/"/g, `\\"`);
        return `"${escaped}"`;
      }
      return serialize(item);
    });
    return `{${elements.join(`,`)}}`;
  }
  throw new Error(`Cannot serialize value: ${JSON.stringify(value)}`);
}
exports.serialize = serialize;
//# sourceMappingURL=pg-serializer.cjs.map
